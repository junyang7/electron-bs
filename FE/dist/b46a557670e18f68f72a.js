"use strict";(self["webpackChunkvue2_webpack"]=self["webpackChunkvue2_webpack"]||[]).push([[921],{921:function(t,e,a){a.r(e),a.d(e,{default:function(){return D}});var r=function(){var t=this,e=t._self._c;return e("div",[e("i",{staticClass:"ri-admin-line"}),e("Button",{on:{click:t.health}},[t._v("健康检测")])],1)},n=[],o=a(6550),s=a(5967),i=new WeakSet;class c{constructor(){if((0,o.A)(this,i),d._)return d._;u._="10000",d._=this,h._=(0,s.A)(i,this,l).call(this)}static async getPort(){return d._||new c,await h._,u._}}async function l(){try{const t=await fetch("/api/port");if(t.ok){const e=await t.text();e&&(u._=e)}}catch(t){}}var d={_:void 0},u={_:void 0},h={_:void 0};class p{static async Get(){const t=await c.getPort(),e="http",a="127.0.0.1";return`${e}://${a}:${t}`}}var _=a(2339);class f{}(0,_.A)(f,"PAGE",{CURRENT:1,SIZE:20,TOTAL:0,OFFSET:0}),(0,_.A)(f,"METHOD",{GET:"GET",POST:"POST"}),(0,_.A)(f,"CONTENT_TYPE",{X_WWW_FORM_URLENCODED:"application/x-www-form-urlencoded",FORM_DATA:"multipart/form-data",JSON:"application/json"});var T,w=a(6895),E=a(2856);w.A.defaults.withCredentials="true";class O{static Get(t,e){return v.call(O,{method:f.METHOD.GET,headers:{"Content-Type":f.CONTENT_TYPE.X_WWW_FORM_URLENCODED},url:t,params:e})}static Post(t,e,a=f.CONTENT_TYPE.X_WWW_FORM_URLENCODED){return v.call(O,{method:f.METHOD.POST,headers:{"Content-Type":a},url:t,data:function(t){if(a!==f.CONTENT_TYPE.JSON){let e=new FormData;for(let a in t)e.append(a,t[a]);return e}return t}(e)})}}async function y(){C._=await p.Get()}function v(t){return N._.then((()=>(t.url=C._+t.url,new Promise(((e,a)=>{(0,w.A)(t).then((t=>{if(!t.hasOwnProperty("data"))return E["default"].prototype.$Message.error("响应数据必须字段缺失：data"),void a(t);if(!t.data.hasOwnProperty("code"))return E["default"].prototype.$Message.error("响应数据必须字段缺失：code"),void a(t);switch(parseInt(t.data.code)){case 0:e(t.data.data);break;case 1:window.location.href=`/user/login?redirect=${encodeURIComponent(window.location.href)}`,E["default"].prototype.$Spin.hide();break;default:E["default"].prototype.$Message.error(t.data.message+JSON.stringify(t.data.data)),E["default"].prototype.$Spin.hide(),a(t);break}})).catch((t=>{E["default"].prototype.$Message.error("网络异常"),E["default"].prototype.$Spin.hide(),a(t)}))})))))}T=O;var C={_:void 0},N={_:y.call(T)};class P{static async Health(t={}){return O.Post(m._.health,t)}}var m={_:{health:"/api/health"}},k={name:"Index",methods:{health(){P.Health().then((t=>{console.log(t)})).catch((t=>{console.log(t)}))}}},A=k,S=a(1656),g=(0,S.A)(A,r,n,!1,null,"2d4f44ec",null),D=g.exports}}]);